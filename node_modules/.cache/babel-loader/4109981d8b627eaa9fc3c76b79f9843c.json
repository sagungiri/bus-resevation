{"ast":null,"code":"import _slicedToArray from \"/home/sagun/Documents/project/React/busReservation/bus-ticket-reservation/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/sagun/Documents/project/React/busReservation/bus-ticket-reservation/src/pages/Login.js\";\nimport React, { Fragment, useContext, useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { AuthContext } from '../context/Auth';\n\nfunction Login(props) {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        redirectToReferrer = _useState2[0],\n        setRedirectToReferrer = _useState2[1];\n\n  const _useContext = useContext(AuthContext),\n        authState = _useContext.authState,\n        dispatch = _useContext.dispatch;\n\n  const isAuthenticated = authState.isAuthenticated;\n\n  let _ref = props.location.state || {\n    from: {\n      pathname: \"/\"\n    }\n  },\n      from = _ref.from;\n\n  const login = () => {\n    dispatch({\n      type: 'login',\n      payload: true\n    });\n    setRedirectToReferrer(true);\n  };\n\n  const logout = () => {\n    dispatch({\n      type: 'login',\n      payload: false\n    });\n    setRedirectToReferrer(false);\n    props.history.push(\"/\");\n  };\n\n  const renderButton = () => {\n    if (isAuthenticated) return React.createElement(\"button\", {\n      onClick: () => login(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, \"Logout\");\n    return React.createElement(\"button\", {\n      onClick: () => login(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, \"Login\");\n  };\n\n  if (redirectToReferrer) return React.createElement(Redirect, {\n    to: from,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  });\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Login Page\"), renderButton());\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/sagun/Documents/project/React/busReservation/bus-ticket-reservation/src/pages/Login.js"],"names":["React","Fragment","useContext","useState","Redirect","AuthContext","Login","props","redirectToReferrer","setRedirectToReferrer","authState","dispatch","isAuthenticated","location","state","from","pathname","login","type","payload","logout","history","push","renderButton"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,QAAtC,QAAsD,OAAtD;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAAQC,WAAR,QAA0B,iBAA1B;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AAAA,oBACkCJ,QAAQ,CAAC,KAAD,CAD1C;AAAA;AAAA,QACZK,kBADY;AAAA,QACQC,qBADR;;AAAA,sBAEYP,UAAU,CAACG,WAAD,CAFtB;AAAA,QAEZK,SAFY,eAEZA,SAFY;AAAA,QAEDC,QAFC,eAEDA,QAFC;;AAAA,QAGZC,eAHY,GAGQF,SAHR,CAGZE,eAHY;;AAAA,aAILL,KAAK,CAACM,QAAN,CAAeC,KAAf,IAAwB;AAAEC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,QAAQ,EAAE;AAAZ;AAAR,GAJnB;AAAA,MAIdD,IAJc,QAIdA,IAJc;;AAMpB,QAAME,KAAK,GAAG,MAAM;AAClBN,IAAAA,QAAQ,CAAC;AAAEO,MAAAA,IAAI,EAAE,OAAR;AAAiBC,MAAAA,OAAO,EAAE;AAA1B,KAAD,CAAR;AACAV,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACD,GAHD;;AAKA,QAAMW,MAAM,GAAG,MAAM;AACnBT,IAAAA,QAAQ,CAAC;AAAEO,MAAAA,IAAI,EAAE,OAAR;AAAiBC,MAAAA,OAAO,EAAE;AAA1B,KAAD,CAAR;AACAV,IAAAA,qBAAqB,CAAC,KAAD,CAArB;AACAF,IAAAA,KAAK,CAACc,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACD,GAJD;;AAMA,QAAMC,YAAY,GAAG,MAAM;AACzB,QAAIX,eAAJ,EAAqB,OACnB;AAAQ,MAAA,OAAO,EAAE,MAAMK,KAAK,EAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADmB;AAGrB,WAAQ;AAAQ,MAAA,OAAO,EAAE,MAAMA,KAAK,EAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAR;AACD,GALD;;AAMA,MAAIT,kBAAJ,EAAwB,OACtB,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAEO,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADsB;AAGxB,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEIQ,YAAY,EAFhB,CADF;AAMD;;AAED,eAAejB,KAAf","sourcesContent":["import React, { Fragment, useContext, useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport {AuthContext} from '../context/Auth'\n\nfunction Login(props) {\n  const [ redirectToReferrer, setRedirectToReferrer ] = useState(false)\n  const { authState, dispatch } = useContext(AuthContext)\n  const { isAuthenticated } = authState;\n  let { from } = props.location.state || { from: { pathname: \"/\" } };\n\n  const login = () => {\n    dispatch({ type: 'login', payload: true })\n    setRedirectToReferrer(true)\n  }\n\n  const logout = () => {\n    dispatch({ type: 'login', payload: false })\n    setRedirectToReferrer(false)\n    props.history.push(\"/\")\n  }\n\n  const renderButton = () => {\n    if (isAuthenticated) return (\n      <button onClick={() => login() }>Logout</button>\n    )\n    return (<button onClick={() => login() }>Login</button>)\n  }\n  if (redirectToReferrer) return (\n    <Redirect to={from} />\n  )\n  return (\n    <Fragment>\n      <div>Login Page</div>\n      { renderButton() }\n    </Fragment>\n  )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}